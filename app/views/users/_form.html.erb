<%= javascript_include_tag 'show_image' %>
<%= form_with(model: user, local: true, id: 'User') do |form| %>
  <div id="image" class="d-none mt-5">
    <br>
    <img id="img-upload" alt="preview" class="w-50 d-block mx-auto">
    <br>
  </div>

  <%= form.file_field :image, class: 'custom-file-input mb-3',onChange: 'preview_picture()' %>
  <%= form.label :image, "Upload picture", class: 'custom-file-label' %>
  <%= form.text_field :name, class: 'border-white w-100 rounded mb-0 py-4 pl-5 my-3', placeholder: 'Type your Unique username' %>
  <%= form.password_field :password, size: 40, class: 'pl-5  border-white w-100 rounded mb-0 py-4 my-3', placeholder: 'Type your password' %>
  <%= form.password_field :password_confirmation,
                          id: :user_password_confirmation,
                          size: 40,
                          class: 'pl-5 border-white w-100 rounded mb-0 py-4 my-3',
                          placeholder: 'Type your password again' %>

  <% @page_button = (form.submit 'Next', class:"submit", form: 'User').html_safe %>

  <% if user.errors.any? %>
    <div id="error_explanation" class="m-5 border border-danger rounded p-5">
      <h2><%= pluralize(user.errors.count, "error") %> prevented the user from being saved, please correct the following:</h2>

      <ul class='pl-0'>
        <% user.errors.full_messages.each do |message| %>
          <p class='mx-0 px-0 text-danger text-bold'><%= message %></p>
        <% end %>
      </ul>
    </div>
  <% end %>
<% end %>



